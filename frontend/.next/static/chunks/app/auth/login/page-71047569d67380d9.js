(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[716],{9743:function(e,s,n){Promise.resolve().then(n.bind(n,4331))},9650:function(e,s,n){"use strict";n.d(s,{Z:function(){return t}});var r=n(9268);function t(e){return(0,r.jsxs)("div",{className:"PageCover",children:[(0,r.jsx)("div",{id:"backdrop",children:(0,r.jsx)("h1",{children:e.title})}),(0,r.jsx)("img",{src:"/images/toraja-cover.jpg",alt:""})]})}n(6260)},4331:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return o}});var r=n(9268),t=n(9650);n(8926);var i=n(6006),l=n(5846),a=n.n(l);function o(){let e=(0,i.useRef)(null),s=(0,i.useRef)(null),[n,l]=(0,i.useState)(0),[o,c]=(0,i.useState)(!1),d=async n=>{n.preventDefault(),console.log("a"),new FormData(n.currentTarget);try{var r,t;let n=await fetch("http://localhost:8080/api/auth/login",{method:"POST",body:JSON.stringify({username:null===(r=e.current)||void 0===r?void 0:r.value,password:null===(t=s.current)||void 0===t?void 0:t.value}),headers:new Headers({"Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:3000/",Origin:"http://localhost:3000/","Access-Control-Allow-Credentials":"true"})});if(401==n.status)l(-1);else if(200==n.status){let e=await n.json();localStorage.setItem("refreshToken",e.refreshToken),localStorage.setItem("accessToken",e.accessToken),l(1),c(!0)}}catch(e){console.log(e)}};return(0,r.jsx)(r.Fragment,{children:o?(0,r.jsxs)("div",{id:"SuccessPage",children:[(0,r.jsx)(t.Z,{title:"Login Successful"}),(0,r.jsx)("h2",{children:"Login Successful! Here are links to admin pages."}),(0,r.jsxs)("div",{id:"links",children:[(0,r.jsx)(a(),{href:"admin/create-blog",className:"link",children:"Create A New Blog"}),(0,r.jsx)(a(),{href:"admin/edit-blog",className:"link",children:"Edit A Blog"}),(0,r.jsx)(a(),{href:"admin/new-admin",className:"link",children:"Create New Admin"})]})]}):(0,r.jsxs)("div",{id:"LoginPage",children:[(0,r.jsx)(t.Z,{title:"Login"}),(0,r.jsxs)("form",{onSubmit:d,className:"form ".concat(-1==n?"error":"normal"),children:[(0,r.jsxs)("div",{className:"form-input",children:[(0,r.jsx)("label",{htmlFor:"username",children:"Username"}),(0,r.jsx)("input",{type:"text",id:"username",name:"username",ref:e})]}),(0,r.jsxs)("div",{className:"form-input",children:[(0,r.jsx)("label",{htmlFor:"password",children:"Password"}),(0,r.jsx)("input",{type:"password",id:"password",name:"password",ref:s})]}),-1==n?(0,r.jsx)("div",{id:"error",children:"Invalid Credentials"}):null,(0,r.jsx)("button",{type:"submit",children:"Login"})]})]})})}},6260:function(){},8926:function(){}},function(e){e.O(0,[629,253,769,744],function(){return e(e.s=9743)}),_N_E=e.O()}]);